<!DOCTYPE html>
<html><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=8" />

<!--defaultCSS-->
<title>Java类型转换</title>



<style type="text/css" id="wiz_custom_css">
body
{
    font-family: Consolas;
    font-size: 14pt;
    line-height: 1.5;
}
html, body
{
    color: black;
    background-color: white;
}
h1 {
    font-size:1.5em;
    font-weight:bold;
}
h2 {
    font-size:1.4em;
    font-weight:bold;
}
h3 {
    font-size:1.3em;
    font-weight:bold;
}
h4 {
    font-size:1.2em;
    font-weight:bold;
}
h5 {
    font-size:1.1em;
    font-weight:bold;
}
h6 {
    font-size:1.0em;
    font-weight:bold;
}
img {
    border:0;
    max-width: 100%;
}
blockquote {
    margin-top:0px;
    margin-bottom:0px;
}
table {
    border-collapse:collapse;
    border:1px solid #bbbbbb;
}
td {
    border-collapse:collapse;
    border:1px solid #bbbbbb;
}
</style>
<style type="text/css" id="wiz_todo_style_id" wiz_link_version="01.00.09">.wiz-todo, .wiz-todo-img {width: 16px; height: 16px; cursor: default; padding: 0 10px 0 2px; vertical-align: -10%;-webkit-user-select: none;} .wiz-todo-label { display: inline-block; padding-top: 7px; padding-bottom: 6px; line-height: 1.5;} .wiz-todo-label-checked {  color: #666;} .wiz-todo-label-unchecked {text-decoration: initial;} .wiz-todo-completed-info {padding-left: 44px; display: inline-block; } .wiz-todo-avatar { width:20px; height: 20px; vertical-align: -20%; margin-right:10px; border-radius: 2px;} .wiz-todo-account, .wiz-todo-dt { color: #666; }</style><link type="text/css" rel="stylesheet" id="wiz_code_highlight_link" href="Java类型转换_files/wiz_code_highlight_10.css"></head>

<body style="" ><strong>自动类型转换</strong><div>容量小的数据类型可以自动转换为容量大的数据类型。</div><div><img src="Java类型转换_files/033b2054-98a9-4817-8608-4ba6c7cdbd4f.png" alt="" name="" border="0"><br></div><div>注意：</div><div><ol class=" list-paddingleft-2"><li><p><span style="font-size: 14pt; line-height: 1.5;">为什么long（8个字节）可以转换为float（4个字节）呢？</span><span style="font-size: 14pt; line-height: 1.5;">其实这里表示的数的范围，不是字节的问题。但是可能会丢失精度。</span><br></p></li><li><p><span style="font-size: 14pt; line-height: 1.5;">可以将整型常量不需要进行强制类型转换而直接赋值给byte、short、char等类型变量，但是需要注意</span><strong style="font-size: 14pt; line-height: 1.5;">整型常量必须在即将转换为的类型的表示范围内。</strong><br></p></li></ol></div><div>实例：</div><div><div><pre class="prettyprint linenums prettyprinted"><ol class="linenums" style="padding-left: 0px;"><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">DataCast</span><span class="pun">{</span><span class="pln">	</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><span class="pln">      </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> main</span><span class="pun">(</span><span class="typ">String</span><span class="pun">[]</span><span class="pln"> args</span><span class="pun">){</span><span class="pln">		</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><span class="pln">            </span><span class="kwd">byte</span><span class="pln"> b </span><span class="pun">=</span><span class="pln"> </span><span class="lit">123</span><span class="pun">;</span><span class="pln">		</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><span class="pln">            </span><span class="kwd">byte</span><span class="pln"> b </span><span class="pun">=</span><span class="pln"> </span><span class="lit">300</span><span class="pun">;</span><span class="com">//出错	</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><span class="pln">      </span><span class="pun">}</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L5"><code class="language-java"><span class="pun">}</span></code></li></ol></pre></div></div><div><div>结果：</div></div><div><img src="Java类型转换_files/68358739-4067-4bc8-a117-d8b4bd0d13bf.png" alt="" border="0"><br></div><div><br></div><div><strong>类型提升问题</strong></div><div><br></div><div>实例：</div><div><div><pre class="prettyprint linenums prettyprinted"><ol class="linenums" style="padding-left: 0px;"><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">DataCast</span><span class="pln"> </span><span class="pun">{</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><span class="pln">	</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> main</span><span class="pun">(</span><span class="typ">String</span><span class="pun">[]</span><span class="pln"> args</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><span class="pln">		</span><span class="kwd">int</span><span class="pln"> a </span><span class="pun">=</span><span class="pln"> </span><span class="lit">3</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><span class="pln">		</span><span class="kwd">long</span><span class="pln"> b </span><span class="pun">=</span><span class="pln"> </span><span class="lit">4</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><span class="pln">		</span><span class="com">//int c = a + b;// 做所有的二元运算（+-*/%），都会遇到类型提升的问题</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L5"><code class="language-java"><span class="pln">		</span><span class="kwd">int</span><span class="pln"> c </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">int</span><span class="pun">)</span><span class="pln"> </span><span class="pun">(</span><span class="pln">a </span><span class="pun">+</span><span class="pln"> b</span><span class="pun">);</span><span class="com">// 需要进行强制类型转换</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L6"><code class="language-java"><span class="pln">	</span><span class="pun">}</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L7"><code class="language-java"><span class="pun">}</span></code></li></ol></pre></div></div><div><div>结果：</div></div><div><img src="Java类型转换_files/af97a624-ac3d-4a8c-9bad-6b6f0ef9ef01.png" alt="" border="0"><br></div><div><br></div><div><strong>运算溢出问题</strong></div><div>实例：</div><div><div><pre class="prettyprint linenums prettyprinted"><ol class="linenums" style="padding-left: 0px;"><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">DataCast</span><span class="pln"> </span><span class="pun">{</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><span class="pln">	</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> main</span><span class="pun">(</span><span class="typ">String</span><span class="pun">[]</span><span class="pln"> args</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><span class="pln">		</span><span class="kwd">int</span><span class="pln"> m </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1000000000</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><span class="pln">		</span><span class="com">// 10亿</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><span class="pln">		</span><span class="kwd">int</span><span class="pln"> y </span><span class="pun">=</span><span class="pln"> </span><span class="lit">20</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L5"><code class="language-java"><span class="pln">		</span><span class="kwd">int</span><span class="pln"> t </span><span class="pun">=</span><span class="pln"> m </span><span class="pun">*</span><span class="pln"> y</span><span class="pun">;</span><span class="com">// 返回是负数</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L6"><code class="language-java"><span class="pln">		</span><span class="kwd">long</span><span class="pln"> t1 </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">long</span><span class="pun">)</span><span class="pln"> </span><span class="pun">(</span><span class="pln">m </span><span class="pun">*</span><span class="pln"> y</span><span class="pun">);</span><span class="com">// 仍然是负数</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L7"><code class="language-java"><span class="pln">		</span><span class="kwd">long</span><span class="pln"> t2 </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">long</span><span class="pun">)</span><span class="pln"> m </span><span class="pun">*</span><span class="pln"> y</span><span class="pun">;</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L8"><code class="language-java"><span class="pln">		</span><span class="typ">System</span><span class="pun">.</span><span class="pln">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="pln">t</span><span class="pun">);</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L9"><code class="language-java"><span class="pln">		</span><span class="typ">System</span><span class="pun">.</span><span class="pln">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="pln">t1</span><span class="pun">);</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><span class="pln">		</span><span class="typ">System</span><span class="pun">.</span><span class="pln">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="pln">t2</span><span class="pun">);</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><span class="pln">	</span><span class="pun">}</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><span class="pun">}</span></code></li></ol></pre></div></div><div>结果：</div><div><img src="Java类型转换_files/4f8b6b5d-b52d-4782-93fb-6a4901d527dc.png" alt="" border="0"><br></div><div><br></div><div>实例:<br><div><pre class="prettyprint linenums prettyprinted"><ol class="linenums" style="padding-left: 0px;"><li style="list-style-type: none; padding-left: 0px;" class="L0"><code class="language-java"><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">DataCast</span><span class="pln"> </span><span class="pun">{</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L1"><code class="language-java"><span class="pln">    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> main</span><span class="pun">(</span><span class="typ">String</span><span class="pun">[]</span><span class="pln"> args</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L2"><code class="language-java"><span class="pln">        </span><span class="kwd">long</span><span class="pln"> times </span><span class="pun">=</span><span class="pln"> </span><span class="lit">70</span><span class="pun">*</span><span class="lit">60</span><span class="pun">*</span><span class="lit">24</span><span class="pun">*</span><span class="lit">365</span><span class="pun">*</span><span class="lit">70</span><span class="pun">;</span><span class="com">//溢出</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L3"><code class="language-java"><span class="pln">        </span><span class="typ">System</span><span class="pun">.</span><span class="pln">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="pln">times</span><span class="pun">);</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L4"><code class="language-java"><span class="pln">        </span><span class="kwd">long</span><span class="pln"> times1 </span><span class="pun">=</span><span class="pln"> </span><span class="lit">70L</span><span class="pun">*</span><span class="lit">60</span><span class="pun">*</span><span class="lit">24</span><span class="pun">*</span><span class="lit">365</span><span class="pun">*</span><span class="lit">70</span><span class="pun">;</span><span class="com">//注意，建议将L放在第一位</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L5"><code class="language-java"><span class="pln">        </span><span class="typ">System</span><span class="pun">.</span><span class="pln">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="pln">times1</span><span class="pun">);</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L6"><code class="language-java"><span class="pln">    </span><span class="pun">}</span></code></li><li style="list-style-type: none; padding-left: 0px;" class="L7"><code class="language-java"><span class="pun">}</span></code></li></ol></pre></div></div><div>结果：</div><div><img src="Java类型转换_files/d7961e5f-3de0-4bcb-99dc-9575141ef237.png" alt="" border="0"><br><img src="Java类型转换_files/da1aabec1fb3906348491fd95463731a.png"><br></div><div><br></div><div><br></div></body></html>